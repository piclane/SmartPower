version: '3.5'
services:
  app:
    image: amazoncorretto:17.0.6-al2
    volumes:
      - ./:/app/
    devices:
      - /dev/ttyUSB0:/dev/ttyUSB0
  db:
    image: mysql:8.0.32-oracle
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: "password"
      TZ: Asia/Tokyo
    volumes:
      - mysql-tablespace:/var/lib/mysql
      - ./mysql/mysql_initdb.d/:/docker-entrypoint-initdb.d/
      - ./mysql/my.cnf:/etc/mysql/conf.d/my.cnf
    ports:
      - "3308:3306"
volumes:
  mysql-tablespace:
    driver: local
